<!DOCTYPE html><html><head><meta charset="utf-8">

<title>Video Localized Narratives Visualizer</title>
</head>
<body><div hidden="" by-vulcanize=""><!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!-- template elements -->
<!-- custom-style -->
<!-- bc behaviors -->
<!-- import html-tag to export html -->
<!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!-- for notify, reflect -->
<!-- for annotated effects -->
<!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!-- import html-tag to export html -->
<!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><dom-module id="loco-image" assetpath="/loco-image/">
  <template>
    <style>
      /* This is needed to make sure the polymer component has an
      offsetWidth. */
      :host {
        display: block;
      }
      #main, #canvasContainer {
        width: 100%;
      }
      svg {
        border-style: solid;
      }
      .flexcol {
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }
      .flexrow {
        display: flex;
        flex-direction: row;
        justify-content: center;
      }
    </style>
    <div id="main">
      <template is="dom-if" if="[[title]]">
        <div>[[title]]</div>
      </template>
      <!--
      Figure out why I can't just do:
         view-box$="[[viewBox_]]"
         preserve-aspect-ratio$="[[preserveAspectRatio_]]">
      -->
      <div id="canvasContainer" hidden$="[[!imageLoaded_]]">
        <svg id="canvas" on-tap="handleTap_" height$="[[canvasHeight]]" width$="[[canvasWidth]]" style="[[getCanvasStyle_(effectiveFontSize_, borderWidth)]]">
          <g id="image" transform$="[[imageZoomTransform_]]">
            <image href$="[[effectiveImageUrl_]]" height$="[[imageHeight]]" width$="[[imageWidth]]">
              <slot id="content"></slot>
            </image>
          </g>
        </svg>
      </div>
      <div hidden$="[[imageLoaded_]]" id="loader" style="[[getLoaderStyle_(borderWidth, canvasHeight, canvasWidth)]]">
        <div class="flexcol">
          <div class="flexrow">
            <paper-spinner-lite active="[[!imageLoadingHasError_]]">
            </paper-spinner-lite>
            <span hidden$="[[!imageLoadingHasError_]]">
              Failed to load image from [[imageUrl]].
            </span>
          </div>
        </div>
      </div>

      <div hidden="">
        <span>Client Coordinates: ([[clientPoint_.x]], [[clientPoint_.y]])</span><br>
        <span>Canvas Coordinates: ([[canvasPoint_.x]], [[canvasPoint_.y]])</span><br>
        <span>Image Coordinates: ([[imagePoint.x]], [[imagePoint.y]])</span><br>
        <span>ViewBox Coordinates: ([[viewBoxPoint_.x]], [[viewBoxPoint_.y]])</span><br>
        <span>imageTransform translation: ([[imageTransform_.x]],[[imageTransform_.y]])&gt;</span><br>
        <span>imageTransform scale: [[imageTransform_.scale]]</span><br>
        <span>ScaleRatio_: [[scaleRatio]]</span>
      </div>
    </div>
  </template>
  </dom-module>
<dom-module id="loco-bounding-box" assetpath="/loco-bounding-box/">
  <template>
    <!-- svg element needed because child elements need to be created in svg
         namespace.  -->
    <svg>
      <g id="box">
        <!-- Putting the styles into a stylesheet instead of inlining was tried
             but ran into the following issue: Since we move these elements
             out, they get styled scoped under loco-image. In other situations,
             for example when property changed, then they are styled scoped
             under loco-bounding-box.

             To overcome this complexity, we just inline the styles.
             -->
        <rect x$="[[xmin]]" y$="[[ymin]]" height$="[[height]]" width$="[[width]]" stroke$="[[borderColorRgba]]" stroke-width$="[[effectiveBorderWidth_]]" stroke-dasharray$="[[borderDashArray]]" fill="none"></rect>
        <!-- Beware of bugs:
          https://bugs.chromium.org/p/chromium/issues/detail?id=467484
          https://bugs.chromium.org/p/chromium/issues/detail?id=510819

          Affects positioning of inner elements, i.e setting of (position, top,
          left, etc attributes)
          & zooming on chrome but works fine on firefox :(
          Workaround is to position foreignObject like below.
         -->
        <!-- Setting the height is necessary to make the text show
             up on firefox! It is not necessary on chrome. :) -->
        <foreignObject x$="[[xmin]]" y$="[[ymin]]" height$="[[height]]" width$="[[width]]">
          <!-- WARNING: Ideally the template element below should
               also wrap foreignObject but due to
               https://github.com/Polymer/polymer/issues/1976 we have to settle
               for this. -->
          <div>
            loco-label-->
            <input id="inputText" type="text" value$="[[text]]" hidden$="[[!effectiveShowInputField_]]" style="[[getInputTextStyle_(effectiveFontSize_)]]">
            <span id="text" hidden$="[[!effectiveShowText_]]" style="[[getTextStyle_(textBackgroundColorRgba)]]">
              [[text]]
            </span>
          </div>
        </foreignObject>
      </g>
    </svg>
  </template>
  </dom-module>
<dom-module id="loco-point" assetpath="/loco-point/">
  <template>
    <svg>
      <g id="point">
        <circle cx$="[[data.x]]" cy$="[[data.y]]" r$="[[radius_(data,scaleRatio)]]" fill$="[[color_(data)]]">
        </circle>
      </g>
    </svg>
  </template>
  </dom-module>
<dom-module id="loco-curve" assetpath="/loco-curve/">
  <template>
    <svg>
      <g id="curve">
        <path d$="[[curveString_]]" fill="none" stroke$="[[lineColor]]" stroke-width$="[[effectiveStrokeWidth_]]">
        </path>
      </g>
    </svg>
  </template>
  </dom-module><dom-module id="loco-segmentation-mask" assetpath="/loco-segmentation-mask/">
  <template>
    <svg>
      <g id="mask">
        <path d$="[[pathString_]]" fill$="[[fillColor]]" fill-rule="evenodd" fill-opacity$="[[fillOpacity]]">
      </path></g>
    </svg>
  </template>
  </dom-module>
<dom-module id="loco-label" assetpath="/loco-label/">
  <template>
    <svg>
      <g id="label">
        <!-- We do not know the size of the text in general, so the size of foreignObject is not
             known at this point. Setting height and width to 1px makes the object render, and then
             overflow: visible; makes the children visible and white-space: nowrap; makes the text
             not wrap into two lines -->
        <foreignObject x$="[[data.x]]" y$="[[data.y]]" height="1px" width="1px" style="overflow: visible">
          <div>
            <input id="inputText" type="text" value$="[[data.text]]" style="[[getInputTextStyle_(editingText, scaleRatio)]]">
            <span id="text" style="[[getTextStyle_(data.*, editingText, scaleRatio)]]">
              [[data.text]]
            </span>
          </div>
        </foreignObject>
      </g>
    </svg>
  </template>
  </dom-module>
<dom-module id="loco-labeled-point" assetpath="/loco-labeled-point/">
  <template>
    <!-- Display the point annotation. -->
    <template is="dom-if" if="[[data.point]]">
      <loco-point data="{{data.point}}"></loco-point>

      <!-- Display the text label (if not empty). -->
      <template is="dom-if" if="[[data.label]]">
        <loco-label editing-text="{{editingText}}" data="{{data.label}}">
        </loco-label>
      </template>
    </template>
  </template>
  </dom-module>
<dom-module id="loco-binary-mask" assetpath="/loco-binary-mask/">
  <template>
    <div hidden="">
      <canvas id="maskCanvas">
      </canvas>
    </div>
    <svg>
      <g id="binaryMask">
        <image id="rasterImage">
      </image></g>
    </svg>
  </template>
  </dom-module>
<dom-module id="loco-annotated-image" assetpath="/loco-annotated-image/">
  <template>
    <style>
      #image {
          text-align: var(--loco-annotated-image-text-align);
      }
    </style>
    <loco-image id="image" title="[[title]]" image-url="[[imageUrl]]" border-width="[[borderWidth]]" canvas-height="[[canvasHeight]]" canvas-width="[[canvasWidth]]" canvas-margin="[[canvasMargin]]" image-height="{{imageHeight}}" image-width="{{imageWidth}}" font-size="[[fontSize]]" image-data="{{imageData}}" expose-image-data="[[exposeImageData]]" image-point="{{imagePoint}}">
      <!-- Display the ObjectInstance objects.  Deprecation Note: ObjectInstance
           is a structure that contains bounding box and points (among other
           things). Use bounding boxes and points instead of this. -->
      <template is="dom-repeat" items="[[objects]]" filter="hasBoundingBox_" observe="bounding_box">
        <loco-bounding-box color="[[colorOrDefault_(item)]]" xmin="[[item.bounding_box.xmin]]" xmax="[[item.bounding_box.xmax]]" ymin="[[item.bounding_box.ymin]]" ymax="[[item.bounding_box.ymax]]" border-dash-array="[[item.bounding_box.dash_array]]" text="[[item.text]]">
        </loco-bounding-box>
      </template>

      <!-- Display the bounding boxes. -->
      <template is="dom-repeat" items="[[boundingBoxes]]">
        <loco-bounding-box color="[[colorOrDefault_(item)]]" border-dash-array="[[dashArrayOrDefault_(item)]]" xmin="[[item.xmin]]" xmax="[[item.xmax]]" ymin="[[item.ymin]]" ymax="[[item.ymax]]" text="[[item.text]]">
        </loco-bounding-box>
      </template>

      <!-- Display the clicks. -->
      <template is="dom-repeat" items="[[clicksToPoints_(clicks)]]">
        <loco-point data="[[item]]">
        </loco-point>
      </template>

      <!-- Display the point annotations. -->
      <template is="dom-repeat" items="{{points}}">
        <template is="dom-if" if="[[item.x]]">
          <loco-point data="[[item]]">
          </loco-point>
        </template>
        <template is="dom-if" if="[[isLabeledPoint_(item)]]">
          <loco-labeled-point data="[[item]]">
          </loco-labeled-point>
        </template>
      </template>

      <!-- Display the label annotations. -->
      <template is="dom-repeat" items="{{labels}}">
        <loco-label data="{{item}}">
        </loco-label>
      </template>

      <!-- Display the regions. -->
      <template is="dom-repeat" items="[[regions]]">
        <loco-segmentation-mask polygons="{{item}}" fill-color="[[getSegmentationColor_(index)]]">
        </loco-segmentation-mask>
      </template>

      <!-- Display the curves. -->
      <template is="dom-repeat" items="[[curves]]">
        <loco-curve line-color="[[getTraceColor_(item)]]" line-width="3" points="{{item}}">
        </loco-curve>
      </template>

      <!-- Display the binary masks. -->
      <template is="dom-repeat" items="[[masks]]">
        <loco-binary-mask class="binaryMasks" mask="{{item}}">
        </loco-binary-mask>
      </template>

    </loco-image>

    <!-- Debugging info -->
    <div hidden="">
      <template is="dom-if" if="[[points.length]]">
        <b>Labeled points ([[points.length]]):</b><br>
      </template>
      <template is="dom-repeat" items="[[points]]">
        <template is="dom-if" if="[[!item.point]]">
          ([[item.x]], [[item.y]])<br>
        </template>
        <template is="dom-if" if="[[item.point]]">
          <i>Label:</i> [[item.label.text]]. <i>Position:</i> ([[item.point.x]], [[item.point.y]]).
          <template is="dom-if" if="[[item.time_interval]]">
            <i>Times:</i> ([[item.time_interval.start]], [[item.time_interval.end]])
          </template>
          <br>
        </template>
      </template>
    </div>
  </template>
  </dom-module>
<dom-module id="loco-pclick-logic" assetpath="/loco-pclick-logic/">
  </dom-module>
<dom-module id="loco-mouse-trace-service" assetpath="/loco-mouse-trace-service/">
  </dom-module>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><dom-module id="loco-array-binder" assetpath="/loco-array-binder/">
  <template>
  </template>
  </dom-module>
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"><!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><dom-module id="loco-overlay" assetpath="/loco-overlay/">
  <template>
    <style>
      :host {
        background: white;
        color: black;
        padding: 24px;
        box-shadow: rgba(0, 0, 0, 0.24) -2px 5px 12px 0px, rgba(0, 0, 0, 0.12) 0px 0px 12px 0px;
      }
    </style>
    <slot></slot>
  </template>
  </dom-module>
<dom-module id="loco-help" assetpath="/loco-help/">
  <template>
    <style>
      loco-overlay {
          font-family: sans-serif;
          background-color: #000000b3;
          color: white;
      }
      .helpAction {
          color: yellow;
          vertical-align: top;
          text-align: right;
      }
      .helpSeparator {
          vertical-align: top;
      }
      .helpMessage {
          max-width: 600px;
          text-align: left;
      }
      .helpSection {
          color: yellow;
          font-weight: bold;
          text-align: center;
          padding-top: 20px;
      }

      .previewContainer_0 {
          width: fit-content;
          margin: auto;
          padding-bottom: 20px;
          padding-top: 20px;
      }
      .previewContainer_1 {
          display: inline-flex;
      }
      .previewContainer_2 {
          display: inline-block;
          padding-left: 0.6em;
          padding-right: 0.6em;
          border-left: 1px solid black;
      }
      #previewContainer_2_0 {
          border-left: none;
      }
      .previewContainer_3 {
          display: flex;
          align-items: center;
      }
      .previewContainer_4 {
          display: inline-block;
          border: 1px solid black;
          border-radius: 6px;
          width: 3em;
          height: 1.5em;
          line-height: 1.5em;
          vertical-align: middle;
          text-align: center;
      }
      .previewContainer_5 {
          margin-left: 0.5em;
      }
    </style>

    <loco-overlay id="overlay" with-backdrop="" scroll-action="lock">
      <table>
        <template is="dom-repeat" items="[[sections]]" as="section">
          <tr>
            <td class="helpSection" colspan="3">[[section.title]]</td>
          </tr>
          <template is="dom-repeat" items="[[section.units]]" as="unit">
            <tr>
              <td class="helpAction">[[unit.action]]</td>
              <td class="helpSeparator">:</td>
              <td class="helpMessage">[[unit.message]]</td>
            </tr>
          </template>
        </template>
      </table>
    </loco-overlay>

    <div class="previewContainer_0" hidden="[[!hasPreview_]]">
      <template is="dom-repeat" items="[[sections]]" as="section" filter="sectionHasPreview_">
        <template is="dom-repeat" items="[[section.units]]" as="unit" filter="unitHasPreview_" observe="preview" index-as="unit_index">
          <div class="previewContainer_1">
            <div class="previewContainer_2" id="previewContainer_2_[[unit_index]]">
              <div class="previewContainer_3">
                <div class="previewContainer_4">
                  <b>[[unit.action]]</b>
                </div>
                <span class="previewContainer_5">[[unit.message]]</span>
              </div>
            </div>
          </div>
        </template>
      </template>
    </div>

  </template>
  </dom-module>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><dom-module id="loco-annotation" assetpath="/loco-annotation/">
  <template>
    <style>
      #main {
        height: 100vh;
        margin: 0;
        display: flex;
        flex-direction: column;
      }
      #toolBarTop {
        background-color: var(--paper-light-blue-600);
        color: white;
        height: 50px;
        font-family: 'Open Sans', sans-serif;
        font-stretch: semi-condensed;
        font-size: medium;
      }
      #horizontalSplit {
        padding: 20px;
        display: flex;
        flex: 2;
        height: 100%;
        justify-content: space-between;
      }

      #annotationUI {
        height: var(--loco-annotation-annotation-ui-height, 100%);
        justify-content: center;
        display: flex;
        flex-direction: var(--loco-annotation-annotation-ui-flex-direction);
      }

      #documentationContent {
        border: 1px solid;
        box-sizing: border-box;
        width: 100%;
        flex: var(--loco-annotation-documentation-content-flex);
        height: var(--loco-annotation-documentation-height, 100%);
      }

      paper-button[toggles][active] {
        background-color: var(--paper-light-blue-800);
      }

      paper-button:hover {
        background-color: var(--paper-light-blue-700);
      }

      paper-button {
        text-transform: capitalize;
        height: 42px;
      }

      loco-annotated-image {
        font-family: 'Open Sans', sans-serif;
      }

      #doneButton {
        background-color: var(--paper-light-blue-600);
        position: fixed;
        bottom: 30px;
        left: 30px;
        display: var(--loco-annotation-done-button-display, block);
      }

      #soundRecordText {
        padding-left: 10px;
      }

      #soundRecordHistogram {
        padding-top: 6px;
        padding-left: 10px;
      }
    </style>

    <div id="main">
      <paper-fab icon="check" id="doneButton" on-tap="done_"></paper-fab>
      <app-toolbar id="toolBarTop">
        <template if="[[documentationUrl]]" is="dom-if">
          <paper-button active="[[activeDocumentation_]]" on-tap="showDocumentationClicked_" toggles="">
            Show documentation
          </paper-button>
        </template>
        <template if="[[soundRecordParams.enabled]]" is="dom-if">
          <span id="soundRecordText">[[soundRecordText]]</span>
          <loco-bar-plot background-color="" data="[[frequencyHistogram]]" foreground-color="#d0d0d0" height="30" id="soundRecordHistogram" width="80">
          </loco-bar-plot>
        </template>
      </app-toolbar>
      <div id="horizontalSplit">
        <div id="annotationUI">
            <loco-annotated-image bounding-boxes="[[boundingBoxes]]" canvas-height="[[canvasHeight]]" canvas-margin="[[canvasMargin]]" canvas-width="[[canvasWidth]]" curves="[[curvesBinding]]" expose-image-data="[[exposeImageData]]" font-size="14" id="image" image-data="{{imageDataBinding}}" image-height="{{imageHeight}}" image-point="{{imagePoint_}}" image-url="[[imageUrl]]" image-width="{{imageWidth}}" masks="[[visibleMasks_]]" points="[[points]]">
            </loco-annotated-image>
            <loco-help id="help"></loco-help>
        </div>
        <div hidden="[[!showDocumentation_]]" id="documentationContainer">
          <iframe id="documentationContent" type="application/pdf">
          </iframe>
        </div>
      </div>
    </div>
    <loco-pclick-logic id="pclick" points="{{points}}" params="{{pclickParams}}">
    </loco-pclick-logic>
    <loco-mouse-trace-service id="mouseTrace" mouse-position="[[imagePoint_]]" mouse-traces="{{curvesBinding}}" parameters="[[mouseTraceParams]]">
    </loco-mouse-trace-service>
    <loco-sound-record-service frequency-histogram="{{frequencyHistogram}}" id="soundRecord" parameters="[[soundRecordParams]]" top-toolbar-text="{{soundRecordText}}">
    </loco-sound-record-service>

    <!-- Corrective Clicks -->
    <loco-array-binder id="correctiveClicksBoundingBoxBinder" item="{{correctiveClicksBoundingBoxBinding}}" array="{{boundingBoxes}}">
    </loco-array-binder>
    <loco-array-binder id="correctiveClicksMaskBinder" item="{{correctiveClicksMaskBinding}}" array="{{masks}}">
    </loco-array-binder>
    <loco-corrective-clicks id="correctiveClicks" read-only="[[readOnly]]" bounding-box="{{correctiveClicksBoundingBoxBinding}}" mask="{{correctiveClicksMaskBinding}}" active-points="{{points}}" image-data="[[imageDataBinding]]" params="[[correctiveClicksParams]]" model="[[interactiveComputationClient]]">
    </loco-corrective-clicks>
  </template>
  </dom-module>

</div>
  <video-localized-narratives-visualizer-app>
    <loco-annotated-image id="display-annotated-image" canvas-width="100vw" border-width="0">
    </loco-annotated-image>
  </video-localized-narratives-visualizer-app>


<script src="index.js"></script></body></html>
